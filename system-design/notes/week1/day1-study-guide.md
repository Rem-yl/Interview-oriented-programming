# Day 1 学习指南 - 系统设计面试概述

**日期**: ____________
**预计学习时长**: 2-3 小时

---

## 📋 今日学习目标

1. 理解什么是系统设计面试
2. 了解系统设计面试的常见问题类型
3. 掌握系统设计面试的基本流程和方法
4. 建立系统设计的整体认知框架

---

## 📚 Part 1: 什么是系统设计? (30-40分钟)

### 阅读材料

#### 1. 核心概念

**系统设计 (System Design)** 是指设计大规模分布式系统的过程,包括:
- 如何处理海量数据
- 如何支持高并发访问
- 如何保证系统的可用性、可靠性、可扩展性
- 如何在性能、成本、复杂度之间做权衡

**为什么需要系统设计?**

想象一下这些场景:
- 设计一个像 Twitter 一样的社交网络,需要支持数亿用户
- 设计一个像 YouTube 一样的视频网站,每天处理数十亿次请求
- 设计一个像淘宝一样的电商平台,双11 要承受巨大的流量冲击

这些系统不可能运行在一台服务器上,需要:
- 分布式架构
- 负载均衡
- 数据分片
- 缓存策略
- 消息队列
- 微服务
- ...

#### 2. 系统设计 vs 编码面试

| 对比维度 | 编码面试 (算法题) | 系统设计面试 |
|---------|----------------|-------------|
| 问题类型 | 具体的算法问题 | 开放式的设计问题 |
| 答案 | 通常有最优解 | 没有标准答案 |
| 重点 | 代码实现、时间空间复杂度 | 架构设计、权衡取舍 |
| 时长 | 30-45分钟 | 45-60分钟 |
| 评判标准 | 代码正确性、效率 | 设计的合理性、完整性 |
| 交流 | 相对较少 | 需要大量讨论 |

**关键区别**:
- 编码面试考察"怎么做" (How)
- 系统设计考察"为什么这么做" (Why) 和 "权衡" (Trade-offs)

#### 3. 系统设计面试考察什么?

面试官想看到:

✅ **技术广度**: 了解各种技术栈和架构模式
- 数据库 (SQL/NoSQL)
- 缓存 (Redis, Memcached)
- 消息队列 (Kafka, RabbitMQ)
- 负载均衡
- CDN
- 微服务
- ...

✅ **分析能力**: 能够分析需求和约束
- 理解功能需求和非功能需求
- 估算规模 (用户数、QPS、存储等)
- 识别瓶颈

✅ **权衡思维**: 理解不同方案的优劣
- 性能 vs 成本
- 一致性 vs 可用性
- 读优化 vs 写优化
- 简单 vs 复杂

✅ **沟通能力**: 清晰表达设计思路
- 主动提问澄清需求
- 结构化地讲解设计
- 接受反馈并调整

✅ **实践经验**: 解决过真实的系统问题
- 经历过的系统挑战
- 优化过的性能问题
- 处理过的故障

### 📝 思考题

1. 你认为系统设计最重要的是什么?为什么?
2. 如果让你设计一个简单的博客系统,你会考虑哪些方面?
3. 你用过哪些大型互联网产品?它们可能面临哪些技术挑战?

---

## 📚 Part 2: 常见的系统设计问题类型 (40-50分钟)

### 1. 社交网络类

**典型问题:**
- 设计 Twitter / 微博
- 设计 Facebook / Instagram
- 设计朋友圈

**核心挑战:**
- Feed 流生成 (推模式 vs 拉模式)
- 关注关系处理
- 海量用户内容存储
- 实时性要求

### 2. 内容分发类

**典型问题:**
- 设计 YouTube / 抖音
- 设计图片分享网站
- 设计文件存储系统

**核心挑战:**
- 大文件存储
- 视频转码
- CDN 加速
- 带宽优化

### 3. 消息通讯类

**典型问题:**
- 设计即时聊天 (WhatsApp / 微信)
- 设计群聊系统
- 设计通知系统

**核心挑战:**
- 实时消息推送
- 消息可靠性
- 离线消息处理
- 多端同步

### 4. 搜索/推荐类

**典型问题:**
- 设计搜索引擎
- 设计自动补全
- 设计推荐系统

**核心挑战:**
- 倒排索引
- 相关性排序
- 个性化推荐
- 实时更新

### 5. 电商/交易类

**典型问题:**
- 设计秒杀系统
- 设计电商平台
- 设计支付系统

**核心挑战:**
- 高并发处理
- 库存扣减
- 分布式事务
- 防刷机制

### 6. 基础服务类

**典型问题:**
- 设计 URL 短链接服务
- 设计限流器
- 设计分布式 ID 生成器
- 设计 KV 存储

**核心挑战:**
- 分布式一致性
- 高可用设计
- 扩展性
- 性能优化

### 7. 数据处理类

**典型问题:**
- 设计网页爬虫
- 设计日志系统
- 设计数据分析系统

**核心挑战:**
- 大数据处理
- 分布式计算
- 数据聚合
- 实时 vs 离线

### 📝 练习

列举 5 个你感兴趣的系统设计问题,并思考它们的核心挑战是什么:

1. _____________________ - 核心挑战: _____________________
2. _____________________ - 核心挑战: _____________________
3. _____________________ - 核心挑战: _____________________
4. _____________________ - 核心挑战: _____________________
5. _____________________ - 核心挑战: _____________________

---

## 📚 Part 3: 系统设计面试流程 (40-50分钟)

### 标准面试流程 (45-60分钟)

#### Step 1: 理解需求和范围 (5-10分钟)

**你需要做的:**

1. **澄清功能需求**
   - 系统需要支持哪些功能?
   - 哪些是核心功能,哪些是次要功能?
   - 有没有不需要支持的功能?

2. **确定非功能需求**
   - 需要支持多少用户?
   - QPS (每秒请求数) 是多少?
   - 读多还是写多?
   - 延迟要求是什么? (实时/准实时/离线)
   - 可用性要求? (99.9%? 99.99%?)
   - 数据一致性要求? (强一致/最终一致)

3. **明确约束条件**
   - 需要支持哪些平台? (Web/iOS/Android)
   - 有地域限制吗? (全球/国内)
   - 预算限制?

**示例对话 - 设计 Twitter:**

```
面试官: "设计一个像 Twitter 的系统"

你: "我想先确认一下需求:
1. 功能方面:
   - 用户可以发推文吗? ✓
   - 用户可以关注其他用户吗? ✓
   - 用户可以看到关注者的推文时间线吗? ✓
   - 需要支持点赞、转发、评论吗? (先不考虑,聚焦核心)
   - 需要支持@提到和话题标签吗? (先不考虑)

2. 规模方面:
   - 预计有多少用户? (假设 3 亿月活)
   - 平均每个用户有多少关注者? (假设 200)
   - 每天会产生多少推文? (假设 1 亿条)
   - 读写比例? (读远多于写,100:1)

3. 性能方面:
   - 时间线延迟要求? (最好在 200ms 内)
   - 新推文多久出现在时间线? (可以接受几秒延迟)

这样理解对吗?"
```

#### Step 2: 高层设计 (10-15分钟)

**你需要做的:**

1. **画出基本架构图**
   - 客户端
   - API Gateway / 负载均衡
   - 应用服务器
   - 数据库
   - 缓存
   - 其他组件

2. **定义核心 API**
   - 发推文: `POST /api/v1/tweets`
   - 获取时间线: `GET /api/v1/timeline`
   - 关注用户: `POST /api/v1/follow`

3. **数据模型设计**
   - 用户表
   - 推文表
   - 关注关系表

**示例架构图:**

```
┌─────────┐
│ 客户端   │
└────┬────┘
     │
┌────▼─────────┐
│ 负载均衡器    │
└────┬─────────┘
     │
┌────▼─────────┐        ┌──────────┐
│ Web 服务器   │───────>│  Redis   │
└────┬─────────┘        │  缓存    │
     │                  └──────────┘
┌────▼─────────┐
│  数据库      │
│  (主从)      │
└──────────────┘
```

#### Step 3: 详细设计 (15-20分钟)

**你需要做的:**

根据面试官的引导,深入设计某些关键部分:

1. **Feed 流生成**
   - 推模式 (Fanout on Write)
   - 拉模式 (Fanout on Read)
   - 混合模式

2. **数据存储**
   - 如何分片?
   - 如何复制?
   - 选择 SQL 还是 NoSQL?

3. **缓存策略**
   - 缓存什么数据?
   - 缓存多久?
   - 如何更新?

4. **扩展性设计**
   - 如何应对流量增长?
   - 如何处理热点问题?

#### Step 4: 深入讨论和优化 (10-15分钟)

**面试官可能问的问题:**

- "如果某个明星有 1 亿粉丝,发一条推文会怎样?"
- "如何保证系统的高可用?"
- "如何监控和排查问题?"
- "有什么性能瓶颈?如何优化?"
- "如何处理数据库故障?"

**你需要展示:**
- 识别瓶颈的能力
- 提出优化方案
- 权衡不同方案的优劣

---

## 🎯 系统设计的思考框架

记住这个口诀: **RESHADED**

- **R**equirements (需求): 明确功能和非功能需求
- **E**stimation (估算): 估算规模和容量
- **S**ystem Interface (接口): 定义 API
- **H**igh-level Design (高层设计): 画架构图
- **A**rchitecture Deep Dive (深入设计): 详细设计关键组件
- **D**ata Model (数据模型): 设计数据库和数据结构
- **E**xtensions (扩展): 讨论优化和扩展
- **D**rawbacks (缺陷): 识别问题和权衡

---

## 📺 推荐视频 (选择观看)

1. **System Design Interview Basics** (英文)
   - [Gaurav Sen - System Design Introduction](https://www.youtube.com/watch?v=xpDnVSmNFX0)
   - 时长: 10分钟

2. **系统设计面试技巧** (中文)
   - 搜索 B站: "系统设计面试入门"
   - 推荐: 左耳朵耗子、小林coding 的系列视频

---

## 📖 推荐文章阅读 (选择阅读)

### 必读

1. **System Design Primer** (GitHub)
   - 链接: https://github.com/donnemartin/system-design-primer
   - 阅读: "System design topics: start here" 部分
   - 时长: 30分钟

2. **How to Ace a Systems Design Interview**
   - 链接: https://www.palantir.com/blog/how-to-ace-a-systems-design-interview/
   - 时长: 15分钟

### 选读

3. **System Design Interview Cheatsheet**
   - 搜索: "system design interview cheatsheet"
   - 了解常见组件和模式

---

## ✍️ 今日作业

### 必做

1. **完成思考题**: 回答 Part 1 的 3 个思考题

2. **列举感兴趣的问题**: 完成 Part 2 的练习

3. **模拟一次面试开场**:
   - 选择一个问题: "设计一个短链接服务"
   - 写出你会问面试官的 10 个问题
   - 练习需求澄清的过程

### 选做

4. **观看一个系统设计面试视频**:
   - 搜索: "system design interview mock"
   - 观察面试者是如何提问和思考的

5. **阅读一篇大厂技术博客**:
   - 推荐: Netflix Tech Blog, Uber Engineering, 美团技术团队
   - 了解真实系统的设计

---

## 📝 今日笔记模板

创建文件: `notes/week1/day1-system-design-intro.md`

使用模板: `notes/week1/daily-note-template.md`

**重点记录:**
- 系统设计面试的核心要点
- 常见问题类型
- 面试流程步骤
- 你的思考和疑问

---

## ✅ 今日总结检查清单

完成以下检查项,然后在 `DAILY_CHECKLIST.md` 中打卡:

- [ ] 理解了什么是系统设计面试
- [ ] 知道了常见的问题类型
- [ ] 掌握了面试的基本流程
- [ ] 完成了思考题和作业
- [ ] 整理了学习笔记
- [ ] 在打卡清单中标记完成 ✅

---

## 🎯 明日预告

**Day 2**: 如何进行系统设计面试 - 观看真实面试案例,学习沟通技巧

---

**加油!系统设计学习之旅从今天开始!** 🚀

---

## 💡 学习建议

1. **不要死记硬背**: 重在理解为什么这样设计
2. **多画图**: 架构图、流程图能帮助思考
3. **多提问**: 培养澄清需求的习惯
4. **关注真实系统**: 看看大厂是怎么做的
5. **循序渐进**: 第一天不需要懂所有细节,慢慢来

如有疑问,记录下来,后续学习中会逐步解答!
